/*
* jQuery modalBox plugin v1.1.7 <http://code.google.com/p/jquery-modalbox-plugin/> 
* @requires jQuery v1.3.2 or later 
* is released under the MIT License <http://www.opensource.org/licenses/mit-license.php> 
*/
(function(b){var c={obsoleteIE678Browser:((jQuery.browser.msie&&parseInt(jQuery.browser.version)<9)?true:false),setModalboxContainer:"#modalBox",setModalboxBodyContainer:"#modalBoxBody",setModalboxBodyContentContainer:".modalBoxBodyContent",setFaderLayer:"#modalBoxFaderLayer",setAjaxLoader:"#modalBoxAjaxLoader",setModalboxCloseButtonContainer:"#modalBoxCloseButton",getStaticContentFromInnerContainer:".modalboxContent",setNameOfHiddenAjaxInputField:"ajaxhref",setNameOfPreCacheContainer:"#modalboxPreCacheContainer",setNameOfGalleryImage:"modalgallery",setModalboxLayoutContainer_Begin:'<div class="modalboxStyleContainer_surface_left"><div class="modalboxStyleContainer_surface_right"><div class="modalboxStyleContainerContent"><div class="modalBoxBodyContent">',setModalboxLayoutContainer_End:'</div></div></div></div><div class="modalboxStyleContainer_corner_topLeft"><!-- - --></div><div class="modalboxStyleContainer_corner_topRight"><!-- - --></div><div class="modalboxStyleContainer_corner_bottomLeft"><!-- - --></div><div class="modalboxStyleContainer_corner_bottomRight"><!-- - --></div><div class="modalboxStyleContainer_surface_top"><div class="modalboxStyleContainer_surface_body"><!-- - --></div></div><div class="modalboxStyleContainer_surface_bottom"><div class="modalboxStyleContainer_surface_body"><!-- - --></div></div>',setWidthOfModalLayer:null,customClassName:null,positionLeft:null,positionTop:null,fadeInActive:true,fadeInSpeed:"fast",fadeOutActive:true,fadeOutSpeed:"fast",localizedStrings:{messageCloseWindow:"Close Window",messageAjaxLoader:"Please wait",errorMessageIfNoDataAvailable:"<strong>No content available!</strong>",errorMessageXMLHttpRequest:'Error: XML-Http-Request Status "500"',errorMessageTextStatusError:"Error: AJAX Request failed"},getStaticContentFrom:null,killModalboxWithCloseButtonOnly:false,setTypeOfFadingLayer:"black",setStylesOfFadingLayer:{white:"background-color:#fff; filter:alpha(opacity=60); -moz-opacity:0.6; opacity:0.6;",black:"background-color:#000; filter:alpha(opacity=40); -moz-opacity:0.4; opacity:0.4;",transparent:"background-color:transparent;",custom:null},minimalTopSpacingOfModalbox:50,usejqueryuidragable:false,callFunctionAfterSuccess:null,callFunctionAfterClosedLayer:null,directCall:{source:null,data:null,element:null},ajax_type:"POST",ajax_contentType:"application/x-www-form-urlencoded; charset=utf-8"};jQuery.fn.modalBox=function(j){var j=jQuery.extend({},c,j);j.localizedStrings=jQuery.fn.modalBox.getlocales();if(j.directCall){if(j.directCall["source"]){l({type:"ajax",source:j.directCall["source"],data:null});}else{if(j.directCall["data"]){l({type:"static",source:null,data:j.directCall["data"]});}else{if(j.directCall["element"]){l({type:"static",source:null,data:jQuery(j.directCall["element"]).html()});}}}}var h=false;jQuery(window).resize(function(){h=true;});if(!h){jQuery(this).die("click").live("click",function(n){d({event:n,element:jQuery(this)});});}function d(p){var p=jQuery.extend({event:null,element:null},p||{});if(p.event&&p.element){var o=p.event;var t=p.element;var q=false;var v=false;if(t.is("input")){var n=t.parents("form").attr("action");var r=t.parents("form").serialize();var s="ajax";v=true;o.preventDefault();}else{if(jQuery("input[name$='"+j.setNameOfHiddenAjaxInputField+"']",t).length!=0){var n=jQuery("input[name$='"+j.setNameOfHiddenAjaxInputField+"']",t).val();var r="";var s="ajax";o.preventDefault();}else{if(jQuery(j.getStaticContentFromInnerContainer,t).length!=0){if(jQuery(j.getStaticContentFromInnerContainer+" img."+j.setNameOfGalleryImage,t).length!=0){var u=jQuery(j.getStaticContentFromInnerContainer+" img."+j.setNameOfGalleryImage,t);}var n="";var r=jQuery(j.getStaticContentFromInnerContainer,t).html();var s="static";o.preventDefault();}else{if(j.getStaticContentFrom){var n="";var r=jQuery(j.getStaticContentFrom).html();var s="static";o.preventDefault();}else{q=true;}}}}if(!q){l({type:s,element:t,source:n,data:r,loadingImagePreparer:{currentImageObj:u,finalizeModalBox:false}});}if(v){return false;}}}function e(o){var o=jQuery.extend({targetElement:"a.modalBoxTopLink",typeOfAnimation:"swing",animationSpeed:800,callAfterSuccess:function(){}},o||{});if(o.targetElement){if(jQuery.browser.webkit){var n=jQuery("body");}else{var n=jQuery("html");}n.animate({scrollTop:jQuery(o.targetElement).offset().top},o.animationSpeed,o.typeOfAnimation,function(){o.callAfterSuccess();});}}function f(o){var o=jQuery.extend({ar_XMLHttpRequest:null,ar_textStatus:null,ar_errorThrown:null,targetContainer:null,ar_enableDebugging:false},o||{});var p=o.ar_XMLHttpRequest;var s=o.ar_textStatus;var q=o.ar_errorThrown;if(p&&s!="error"){if(p.status==403){var r=p.getResponseHeader("Location");if(typeof r!=="undefined"){location.href=r;}}else{if(p.status==500&&o.targetContainer){n({errorMessage:j.localizedStrings["errorMessageXMLHttpRequest"],targetContainer:o.targetContainer});}}if(o.ar_enableDebugging){console.log("XMLHttpRequest.status: "+p.status);}}else{if(s=="error"){if(o.targetContainer){n({errorMessage:j.localizedStrings["errorMessageTextStatusError"],targetContainer:o.targetContainer});}if(o.ar_enableDebugging){console.log("textStatus: "+s);}}else{}}function n(t){var t=jQuery.extend({errorMessage:null,targetContainer:null},t||{});if(t.errorMessage&&t.targetContainer){var u="";u+='<div class="simleModalboxErrorBox"><div class="simleModalboxErrorBoxContent">';u+=t.errorMessage;u+="</div></div>";jQuery(t.targetContainer).removeAttr("style").html(u);if(jQuery(t.targetContainer).parents(j.setModalboxContainer).length>0){jQuery(j.setAjaxLoader).remove();i();}}}}function g(n){var n=jQuery.extend({currentURL:"",addParameterName:"ajaxContent",addParameterValue:"true"},n||{});var p=n.currentURL;if(p.indexOf(n.addParameterName)!=-1){p=p;}else{if(p.indexOf("?")!=-1){var o="&";}else{var o="?";}p=p+o+n.addParameterName+"="+n.addParameterValue;}return p;}function k(n){var n=jQuery.extend({type:n.type,element:n.element,source:n.source,data:n.data,loadingImagePreparer:{currentImageObj:n.loadingImagePreparer["currentImageObj"],finalizeModalBox:n.loadingImagePreparer["finalizeModalBox"]},nameOfImagePreloaderContainer:"imagePreparerLoader",wrapContainer:'<div class="modalBoxCarouselItemContainer"></div>'},n||{});var o=n.loadingImagePreparer["currentImageObj"];if(o){jQuery(j.getStaticContentFromInnerContainer).css({display:"block",position:"absolute",left:"-9999px",top:"-9999px"}).removeAttr("style");l({type:n.type,element:n.element,source:n.source,data:n.data,loadingImagePreparer:{currentImageObj:o,finalizeModalBox:true,nameOfImagePreloaderContainer:n.nameOfImagePreloaderContainer}});}}function l(p){var p=jQuery.extend({type:null,element:null,source:null,data:null,loadingImagePreparer:{currentImageObj:null,finalizeModalBox:false,nameOfImagePreloaderContainer:null}},p||{});jQuery(j.setNameOfPreCacheContainer).remove();if(p.loadingImagePreparer["currentImageObj"]&&!p.loadingImagePreparer["finalizeModalBox"]){k({type:p.type,element:p.element,source:p.source,data:p.data,loadingImagePreparer:p.loadingImagePreparer});}else{if(p.type){if(p.source){p.source=g({currentURL:p.source});}var s="";var o="";if(p.element){if(jQuery(p.element).hasClass("large")){o+="large";}else{if(jQuery(p.element).hasClass("medium")){o+="medium";}else{if(jQuery(p.element).hasClass("small")){o+="small";}else{if(p.loadingImagePreparer["nameOfImagePreloaderContainer"]){o+="auto modalBoxBodyContentImageContainer";}}}}if(jQuery(p.element).hasClass("emphasis")){o+=" emphasis";}}if(j.customClassName){o+=" "+j.customClassName;}if(j.setWidthOfModalLayer){s+="width:"+parseInt(j.setWidthOfModalLayer)+"px; ";}if(jQuery(j.setModalboxContainer).length==0){var q=a({customStyles:'class="'+o+'" style="'+s+'"'});jQuery("body").append(q);}else{var r=jQuery.fn.modalBox.cleanupSelectorName({replaceValue:j.setAjaxLoader});jQuery.fn.modalBox.clean({setModalboxContentContainer:j.setModalboxBodyContentContainer,setAjaxLoader:r,localizedStrings:j.localizedStrings["messageAjaxLoader"]});}function n(){switch(p.type){case"static":jQuery(j.setAjaxLoader).fadeOut("fast",function(){jQuery(j.setModalboxBodyContentContainer,j.setModalboxContainer).html(p.data);m({callFunctionAfterSuccess:j.callFunctionAfterSuccess});});break;case"ajax":jQuery.ajax({type:j.ajax_type,url:p.source,data:p.data,contentType:j.ajax_contentType,success:function(t,u){jQuery(j.setAjaxLoader).fadeOut("fast",function(){jQuery(j.setModalboxBodyContentContainer,j.setModalboxContainer).html(t);m({callFunctionAfterSuccess:j.callFunctionAfterSuccess});});},error:function(t,v,u){f({ar_XMLHttpRequest:t,ar_textStatus:v,ar_errorThrown:u,targetContainer:j.setModalboxContainer+" "+j.setModalboxBodyContentContainer});}});break;}}m({callFunctionAfterSuccess:n()});}}}function m(o){var o=jQuery.extend({isResized:false,callFunctionAfterSuccess:null},o||{});var p=jQuery(j.setFaderLayer);if(p.length==0){if(j.setTypeOfFadingLayer=="white"){var n=j.setStylesOfFadingLayer["white"];}else{if(j.setTypeOfFadingLayer=="black"){var n=j.setStylesOfFadingLayer["black"];}else{if(j.setTypeOfFadingLayer=="custom"&&j.setStylesOfFadingLayer["custom"]){var n=j.setStylesOfFadingLayer["custom"];}else{var n=j.setStylesOfFadingLayer["transparent"];}}}var r=jQuery.fn.modalBox.cleanupSelectorName({replaceValue:j.setFaderLayer});jQuery("body").append('<div id="'+r+'" style="'+n+'"></div>');var q=jQuery(j.setFaderLayer);if(j.fadeInActive){q.fadeIn(j.fadeInSpeed,function(){i({isResized:o.isResized,callFunctionAfterSuccess:o.callFunctionAfterSuccess});});}else{q.show();i({isResized:o.isResized,callFunctionAfterSuccess:o.callFunctionAfterSuccess});}if(!j.killModalboxWithCloseButtonOnly){q.click(function(){jQuery.fn.modalBox.close({callFunctionAfterClosedLayer:j.callFunctionAfterClosedLayer});});}jQuery(window).resize(function(){if(q.is(":visible")){m({isResized:true});}});}else{i({isResized:o.isResized,callFunctionAfterSuccess:o.callFunctionAfterSuccess});}}function i(t){var t=jQuery.extend({isResized:false,callFunctionAfterSuccess:null},t||{});var n=jQuery(j.setModalboxContainer);if(jQuery(j.setNameOfPreCacheContainer).length==0&&n.length!=0){if(jQuery("body a.modalBoxTopLink").length==0){jQuery("body").prepend('<a class="modalBoxTopLink"></a>');}var q=false;var s="absolute";var r=0;var u=n.width();var p=n.height();var o=parseInt(jQuery(window).width()-u)/2;if(o<=0){o=0;}if(j.positionLeft){o=j.positionLeft+"px";}else{o=o+"px";}if(j.positionTop){r=parseInt(jQuery(window).height()-p);if(r>parseInt(j.positionTop)){s="fixed";}r=j.positionTop+"px";}else{r=parseInt(jQuery(window).height()-p-70)/2;if(r<=0){r=j.minimalTopSpacingOfModalbox+"px";q=true;}else{r=r+"px";s="fixed";}}if(j.fadeInActive&&!j.obsoleteIE678Browser){if(n.hasClass("modalboxFadingSuccessfully")){n.css({position:s,left:o,top:r,display:"block",visibility:"visible"});}else{n.css({position:s,left:o,top:r,visibility:"visible"}).fadeIn(j.fadeInSpeed,function(){jQuery(this).addClass("modalboxFadingSuccessfully");});}}else{n.css({position:s,left:o,top:r,display:"block",visibility:"visible"});}if(q&&!n.hasClass("modalboxScrollingSuccessfully")){n.addClass("modalboxScrollingSuccessfully");e();}if(!t.isResized){if(t.callFunctionAfterSuccess){t.callFunctionAfterSuccess();}if(j.usejqueryuidragable){n.draggable("destroy").draggable({opacity:false,iframeFix:true,refreshPositions:true});}jQuery(j.setModalboxContainer+" .closeModalBox").unbind("click").click(function(){jQuery.fn.modalBox.close({callFunctionAfterClosedLayer:j.callFunctionAfterClosedLayer});});}}}};function a(g){var g=jQuery.extend({customStyles:""},g||{});g=jQuery.extend({},c,g);g.localizedStrings=jQuery.fn.modalBox.getlocales();var f=jQuery.fn.modalBox.cleanupSelectorName({replaceValue:g.setModalboxContainer});var e=jQuery.fn.modalBox.cleanupSelectorName({replaceValue:g.setModalboxBodyContainer});var j=jQuery.fn.modalBox.cleanupSelectorName({replaceValue:g.setModalboxBodyContentContainer});var d=jQuery.fn.modalBox.cleanupSelectorName({replaceValue:g.setModalboxCloseButtonContainer});var i=jQuery.fn.modalBox.cleanupSelectorName({replaceValue:g.setAjaxLoader});var h="";h+='<div id="'+f+'"'+g.customStyles+">";h+='<div id="'+e+'">';h+=g.setModalboxLayoutContainer_Begin;h+='<div class="'+j+'">';h+='<div id="'+i+'">'+g.localizedStrings["messageAjaxLoader"]+"</div>";h+="</div>";h+=g.setModalboxLayoutContainer_End;h+='<div id="'+d+'"><a href="javascript:void(0);" class="closeModalBox"><span class="closeModalBox">'+g.localizedStrings["messageCloseWindow"]+"</span></a></div>";h+="</div>";h+="</div>";return h;}jQuery.fn.modalBox.close=function(d){var d=jQuery.extend({callFunctionAfterClosedLayer:null},d||{});d=jQuery.extend({},c,d);if(d.setFaderLayer&&d.setModalboxContainer){var f=jQuery(d.setFaderLayer+", "+d.setModalboxContainer);if(d.fadeOutActive){if(d.obsoleteIE678Browser){jQuery(d.setModalboxContainer).remove();jQuery(d.setFaderLayer).fadeOut(d.fadeOutSpeed,function(){e(jQuery(this));});}else{jQuery(d.setModalboxContainer).fadeOut(d.fadeOutSpeed,function(){jQuery(d.setFaderLayer).fadeOut(d.fadeOutSpeed,function(){e(f);});});}}else{e(f);}}function e(g){g.remove();if(d.callFunctionAfterClosedLayer){d.callFunctionAfterClosedLayer();}}};jQuery.fn.modalBox.clean=function(d){var d=jQuery.extend({setModalboxContentContainer:null,setAjaxLoader:null,localizedStrings:null},d||{});if(d.setModalboxContentContainer){jQuery(d.setModalboxContentContainer).html('<div id="'+d.setAjaxLoader+'">'+d.localizedStrings+"</div>");}};jQuery.fn.modalBox.cleanupSelectorName=function(d){var d=jQuery.extend({replaceValue:""},d||{});var e=d.replaceValue;e=e.replace(/[#]/g,"");e=e.replace(/[.]/g,"");return e;};jQuery.fn.modalBox.getlocales=function(d){var d=jQuery.extend({},c,d);if(typeof(modalboxLocalizedStrings)!=="undefined"){if(modalboxLocalizedStrings!==""){d.localizedStrings={messageCloseWindow:modalboxLocalizedStrings["messageCloseWindow"],messageAjaxLoader:modalboxLocalizedStrings["messageAjaxLoader"],errorMessageIfNoDataAvailable:modalboxLocalizedStrings["errorMessageIfNoDataAvailable"],errorMessageXMLHttpRequest:modalboxLocalizedStrings["errorMessageXMLHttpRequest"],errorMessageTextStatusError:modalboxLocalizedStrings["errorMessageTextStatusError"]};}}return d.localizedStrings;};jQuery.fn.modalBox.precache=function(d){var d=jQuery.extend({},c,d);if(d.setNameOfPreCacheContainer){if(jQuery(d.setNameOfPreCacheContainer).length==0){var g=jQuery.fn.modalBox.cleanupSelectorName({replaceValue:d.setNameOfPreCacheContainer});var f=a();var e="";e+='<div id="'+g+'" style="position:absolute; left:-9999px; top:-9999px;">';e+=f;e+="</div>";jQuery("body").append(e);jQuery(d.setModalboxContainer).show();}}};jQuery(document).ready(function(){jQuery(".openmodalbox").modalBox();jQuery.fn.modalBox.precache();});})(jQuery);