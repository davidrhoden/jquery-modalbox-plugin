/*
* jQuery modalBox plugin v1.0.6 <http://code.google.com/p/jquery-modalbox-plugin/> 
* @requires jQuery v1.2.6 or later 
* is released under the MIT License <http://www.opensource.org/licenses/mit-license.php> 
*/
(function(c){var b=jQuery.fn.jquery;var a=false;if(jQuery.browser.msie&&parseInt(jQuery.browser.version)<7){a=true;}jQuery.fn.modalBox=function(l){l=jQuery.extend({getStaticContentFrom:null,killModalboxWithCloseButtonOnly:false,setTypeOfFadingLayer:"black",setStylesOfFadingLayer:{white:"background-color:#fff; filter:alpha(opacity=60); -moz-opacity:0.6; opacity:0.6;",black:"background-color:#000; filter:alpha(opacity=40); -moz-opacity:0.4; opacity:0.4;",transparent:"background-color:transparent;",custom:null},setModalboxLayoutContainer_Begin:'<div class="modalboxStyleContainerTopLeft"><div class="modalboxStyleContainerTopRight"><div class="modalboxStyleContainerContent">',setModalboxLayoutContainer_End:'</div></div></div><div class="modalboxStyleContainerBottomLeft"><div class="modalboxStyleContainerBottomRight"></div></div>',setModalboxLayoutContainer_Begin_ObsoleteBrowsers:'<div class="modalboxStyleContainerTopRight"><div class="modalboxStyleContainerContent">',setModalboxLayoutContainer_End_ObsoleteBrowsers:'</div></div><div class="modalboxStyleContainerBottomRight"></div><div class="modalboxStyleContainerTopLeft"></div><div class="modalboxStyleContainerBottomLeft"></div>',localizedStrings:{messageCloseWindow:"Close Window",messageAjaxLoader:"Please wait",errorMessageIfNoDataAvailable:"<strong>No content available!</strong>",errorMessageXMLHttpRequest:'Error: XML-Http-Request Status "500"',errorMessageTextStatusError:"Error: AJAX Request failed"},minimalTopSpacingOfModalbox:50,usejqueryuidragable:false,callFunctionAfterSuccess:null,setWidthOfModalLayer:null,directCall:{source:null,data:null}},l||{});l=jQuery.extend({},jQuery.fn.modalBox.defaults,l);if(typeof(modalboxLocalizedStrings)!=="undefined"){if(modalboxLocalizedStrings!==""){l.localizedStrings={messageCloseWindow:modalboxLocalizedStrings["messageCloseWindow"],messageAjaxLoader:modalboxLocalizedStrings["messageAjaxLoader"],errorMessageIfNoDataAvailable:modalboxLocalizedStrings["errorMessageIfNoDataAvailable"],errorMessageXMLHttpRequest:modalboxLocalizedStrings["errorMessageXMLHttpRequest"],errorMessageTextStatusError:modalboxLocalizedStrings["errorMessageTextStatusError"]};}}if(l.directCall){if(l.directCall["source"]){n({type:"ajax",source:l.directCall["source"],data:""});}else{if(l.directCall["data"]){n({type:"static",source:"",data:jQuery(l.directCall["data"]).html()});}}}var i=false;jQuery(window).resize(function(){j();i=true;});if(!i){if(b=="1.2.6"){jQuery(this).unbind("click").bind("click",function(p){d({event:p,element:jQuery(this)});});}else{jQuery(this).die("click").live("click",function(p){d({event:p,element:jQuery(this)});});}}function d(r){r=jQuery.extend({event:null,element:null},r||{});if(r.event&&r.element){var q=r.event;var v=r.element;var s=false;var x=false;if(v.is("input")){var p=v.parents("form").attr("action");var t=v.parents("form").serialize();var u="ajax";x=true;q.preventDefault();}else{if(jQuery("input[name$='"+l.setNameOfHiddenAjaxInputField+"']",v).size()!=0){var p=jQuery("input[name$='"+l.setNameOfHiddenAjaxInputField+"']",v).val();var t="";var u="ajax";q.preventDefault();}else{if(jQuery(l.getStaticContentFromInnerContainer,v).size()!=0){if(jQuery(l.getStaticContentFromInnerContainer+" img",v).size()!=0){var w=jQuery(l.getStaticContentFromInnerContainer+" img",v);}var p="";var t=jQuery(l.getStaticContentFromInnerContainer,v).html();var u="static";q.preventDefault();}else{if(l.getStaticContentFrom){var p="";var t=jQuery(l.getStaticContentFrom).html();var u="static";q.preventDefault();}else{s=true;}}}}if(!s){n({type:u,element:v,source:p,data:t,loadImagePreparer:{currentImageObj:w,finalizeModalBox:false}});}if(x){return false;}}}function e(p){p=jQuery.extend({targetElement:null,typeOfAnimation:"swing",animationSpeed:800},p||{});if(p.targetElement){jQuery("html:not(:animated), body:not(:animated)").animate({scrollTop:jQuery(p.targetElement).offset().top},p.animationSpeed,p.typeOfAnimation);}}function f(q){q=jQuery.extend({ar_XMLHttpRequest:null,ar_textStatus:null,ar_errorThrown:null,targetContainer:null,ar_enableDebugging:false},q||{});var r=q.ar_XMLHttpRequest;var u=q.ar_textStatus;var s=q.ar_errorThrown;if(r&&u!="error"){if(r.status==403){var t=r.getResponseHeader("Location");if(typeof t!=="undefined"){location.href=t;}}else{if(r.status==500&&q.targetContainer){p({errorMessage:l.localizedStrings["errorMessageXMLHttpRequest"],targetContainer:q.targetContainer});}}if(q.ar_enableDebugging){console.log("XMLHttpRequest.status: "+r.status);}}else{if(u=="error"){if(q.targetContainer){p({errorMessage:l.localizedStrings["errorMessageTextStatusError"],targetContainer:q.targetContainer});}if(q.ar_enableDebugging){console.log("textStatus: "+u);}}else{}}function p(v){v=jQuery.extend({errorMessage:null,targetContainer:null},v||{});if(v.errorMessage&&v.targetContainer){var w="";w+='<div class="simleModalboxErrorBox"><div class="simleModalboxErrorBoxContent">';w+=v.errorMessage;w+="</div></div>";jQuery(v.targetContainer).removeAttr("style").html(w);if(jQuery(v.targetContainer).parents(l.setModalboxContainer).size()>0){jQuery(l.setAjaxLoader).remove();j();}}}}function h(p){p=jQuery.extend({currentURL:"",addParameterName:"ajaxContent",addParameterValue:"true"},p||{});var r=p.currentURL;if(r.indexOf(p.addParameterName)!=-1){r=r;}else{if(r.indexOf("?")!=-1){var q="&";}else{var q="?";}r=r+q+p.addParameterName+"="+p.addParameterValue;}return r;}function k(p){p=jQuery.extend({replaceValue:""},p||{});var q=p.replaceValue;q=q.replace(/[#]/g,"");q=q.replace(/[.]/g,"");return q;}function m(q){q=jQuery.extend({type:q.type,element:q.element,source:q.source,data:q.data,loadImagePreparer:{currentImageObj:q.loadImagePreparer["currentImageObj"],finalizeModalBox:q.loadImagePreparer["finalizeModalBox"]},nameOfImagePreloaderContainer:"imagePreparerLoader"},q||{});if(q.loadImagePreparer["currentImageObj"]){jQuery(l.getStaticContentFromInnerContainer).css({visibility:"hidden",display:"block"});var p=jQuery(q.loadImagePreparer["currentImageObj"]).width();var r=jQuery(q.loadImagePreparer["currentImageObj"]).height();jQuery(l.getStaticContentFromInnerContainer).removeAttr("style");n({type:q.type,element:q.element,source:q.source,data:q.data,loadImagePreparer:{currentImageObj:q.loadImagePreparer["currentImageObj"],widthOfImage:p,heightOfImage:r,finalizeModalBox:true,nameOfImagePreloaderContainer:q.nameOfImagePreloaderContainer}});}}function g(){var p="";p+='<script type="text/javascript">';p+='jQuery(document).ready(function(){ jQuery(".closeModalBox", "'+l.setModalboxContainer+"\").click(function(){ jQuery(this).modalBox.close({layerContainer:'"+l.setFaderLayer+"', setModalboxContainer:'"+l.setModalboxContainer+"' }); }); });";p+="<\/script>";jQuery(l.setModalboxContainer).append(p);if(l.callFunctionAfterSuccess){l.callFunctionAfterSuccess();}}function n(r){r=jQuery.extend({type:null,element:null,source:null,data:null,loadImagePreparer:{currentImageObj:null,widthOfImage:null,heightOfImage:null,finalizeModalBox:false,nameOfImagePreloaderContainer:null},eMessageNoData:l.localizedStrings["errorMessageIfNoDataAvailable"],onSuccess:function(){g();return false;}},r||{});if(!r.data&&r.eMessageNoData){r.data=r.eMessageNoData;}if(r.loadImagePreparer["currentImageObj"]&&!r.loadImagePreparer["finalizeModalBox"]){m({type:r.type,element:r.element,source:r.source,data:r.data,loadImagePreparer:r.loadImagePreparer});}else{if(r.type){if(r.source){r.source=h({currentURL:r.source});}var q="";if(r.element){if(jQuery(r.element).hasClass("large")){var w="large";}else{if(jQuery(r.element).hasClass("medium")){var w="medium";}else{if(jQuery(r.element).hasClass("small")){var w="small";}else{if(r.loadImagePreparer["nameOfImagePreloaderContainer"]){var w="auto";q+="width:"+Math.abs(r.loadImagePreparer["widthOfImage"]+40)+"px; ";q+="height:"+Math.abs(r.loadImagePreparer["heightOfImage"]+40)+"px; ";}else{var w="";}}}}if(jQuery(r.element).hasClass("emphasis")){w+=" emphasis";}}if(l.setWidthOfModalLayer){q+="width:"+parseInt(l.setWidthOfModalLayer)+"px; ";}if(jQuery(l.setModalboxContainer).size()==0){o();var v=k({replaceValue:l.setModalboxContainer});var p=k({replaceValue:l.setModalboxBodyContainer});var s=k({replaceValue:l.setModalboxBodyContentContainer});var t=k({replaceValue:l.setModalboxCloseButtonContainer});var x=k({replaceValue:l.setAjaxLoader});var u="";u+='<div id="'+v+'" class="'+w+'" style="'+q+'">';u+='<div id="'+p+'">';if(a){u+=l.setModalboxLayoutContainer_Begin_ObsoleteBrowsers;}else{u+=l.setModalboxLayoutContainer_Begin;}u+='<div class="'+s+'">';u+='<div id="'+x+'">'+l.localizedStrings["messageAjaxLoader"]+"</div>";u+="</div>";if(a){u+=l.setModalboxLayoutContainer_End_ObsoleteBrowsers;}else{u+=l.setModalboxLayoutContainer_End;}u+='<div id="'+t+'"><a href="javascript:void(0);" class="closeModalBox"><span class="closeModalBox">'+l.localizedStrings["messageCloseWindow"]+"</span></a></div>";u+="</div>";u+="</div>";jQuery("body").append(u);}else{var x=k({replaceValue:l.setAjaxLoader});jQuery.fn.modalBox.clean({setModalboxContentContainer:l.setModalboxBodyContentContainer,setAjaxLoader:x,localizedStrings:l.localizedStrings["messageAjaxLoader"]});}switch(r.type){case"static":jQuery(l.setAjaxLoader).hide();jQuery(l.setModalboxBodyContentContainer,l.setModalboxContainer).html(r.data);if(a){j();}r.onSuccess();break;case"ajax":jQuery.ajax({type:"POST",url:r.source,data:r.data,success:function(y,z){jQuery(l.setAjaxLoader).hide();jQuery(l.setModalboxBodyContentContainer,l.setModalboxContainer).append(y);j();r.onSuccess();},error:function(y,A,z){f({ar_XMLHttpRequest:y,ar_textStatus:A,ar_errorThrown:z,targetContainer:l.setModalboxContainer+" "+l.setModalboxBodyContentContainer});}});break;}if(!a){j();}}}}function j(){if(jQuery(l.setModalboxContainer).size()!=0){if(jQuery("body a.modalBoxTopLink").size()==0){jQuery("body").prepend('<a class="modalBoxTopLink"></a>');}var q=parseInt(jQuery(window).width()-jQuery(l.setModalboxContainer).width())/2;if(q<=0){q=0;}var r=parseInt(jQuery(window).height()-jQuery(l.setModalboxContainer).height()-70)/2;if(a){if(r<=0){jQuery(l.setModalboxContainer).css({position:"absolute",left:q+"px",top:l.minimalTopSpacingOfModalbox+"px",display:"block",visibility:"visible"});}else{jQuery(l.setModalboxContainer).css({position:"absolute",left:q+"px",display:"block",visibility:"visible"});}e({targetElement:"a.modalBoxTopLink"});}else{if(r<=0){jQuery(l.setModalboxContainer).css({position:"absolute",left:q+"px",top:l.minimalTopSpacingOfModalbox+"px",display:"block",visibility:"visible"});e({targetElement:"a.modalBoxTopLink"});}else{jQuery(l.setModalboxContainer).css({position:"fixed",left:q+"px",top:r+"px",display:"block",visibility:"visible"});}}if(l.usejqueryuidragable){jQuery(l.setModalboxContainer).draggable("destroy").draggable({opacity:false,iframeFix:true,refreshPositions:true});}o();}if(a){var p=jQuery("div.modalboxStyleContainerTopRight",l.setModalboxContainer).height();jQuery("div.modalboxStyleContainerTopLeft",l.setModalboxContainer).height(p);}}function o(){if(l.setTypeOfFadingLayer=="white"){var p=l.setStylesOfFadingLayer["white"];}else{if(l.setTypeOfFadingLayer=="black"){var p=l.setStylesOfFadingLayer["black"];}else{if(l.setTypeOfFadingLayer=="custom"&&l.setStylesOfFadingLayer["custom"]){var p=l.setStylesOfFadingLayer["custom"];}else{var p=l.setStylesOfFadingLayer["transparent"];}}}var q=jQuery(l.setFaderLayer);if(q.size()==0){var r=k({replaceValue:l.setFaderLayer});jQuery("body").append('<div id="'+r+'" style="'+p+'"></div><iframe class="modalBoxIe6layerfix"></iframe>');if(a){jQuery(".modalBoxIe6layerfix").css({width:Math.abs(jQuery("body").width()-1)+"px",height:Math.abs(jQuery("body").height()-1)+"px"});}if(!l.killModalboxWithCloseButtonOnly){jQuery(l.setFaderLayer).click(function(){jQuery(this).modalBox.close({layerContainer:l.setFaderLayer,setModalboxContainer:l.setModalboxContainer});});}jQuery(window).resize(function(){if(jQuery(l.setFaderLayer).is(":visible")){o();}});}else{if(q.size()!=0&&!q.is(":visible")){q.show();}}}};jQuery.fn.modalBox.close=function(d){d=jQuery.extend({},jQuery.fn.modalBox.defaults,d);if(d.setFaderLayer&&d.setModalboxContainer){jQuery(d.setFaderLayer).remove();jQuery(d.setModalboxContainer).remove();jQuery("iframe.modalBoxIe6layerfix").remove();}};jQuery.fn.modalBox.clean=function(d){d=jQuery.extend({setModalboxContentContainer:null,setAjaxLoader:null,localizedStrings:null},d||{});if(d.setModalboxContentContainer){jQuery(d.setModalboxContentContainer).html('<div id="'+d.setAjaxLoader+'">'+d.localizedStrings+"</div>");}};jQuery.fn.modalBox.defaults={setModalboxContainer:"#modalBox",setModalboxBodyContainer:"#modalBoxBody",setModalboxBodyContentContainer:".modalBoxBodyContent",setFaderLayer:"#modalBoxFaderLayer",setAjaxLoader:"#modalBoxAjaxLoader",setModalboxCloseButtonContainer:"#modalBoxCloseButton",getStaticContentFromInnerContainer:".modalboxContent",setNameOfHiddenAjaxInputField:"ajaxhref"};jQuery(document).ready(function(){jQuery(".openmodalbox").modalBox();});})(jQuery);