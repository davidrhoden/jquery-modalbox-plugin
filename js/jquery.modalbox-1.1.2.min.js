/*
* jQuery modalBox plugin v1.1.2 <http://code.google.com/p/jquery-modalbox-plugin/> 
* @requires jQuery v1.3.2 or later 
* is released under the MIT License <http://www.opensource.org/licenses/mit-license.php> 
*/
(function(b){var c={obsoleteBrowsers:((jQuery.browser.msie&&parseInt(jQuery.browser.version)<7)?true:false),setModalboxContainer:"#modalBox",setModalboxBodyContainer:"#modalBoxBody",setModalboxBodyContentContainer:".modalBoxBodyContent",setFaderLayer:"#modalBoxFaderLayer",setAjaxLoader:"#modalBoxAjaxLoader",setModalboxCloseButtonContainer:"#modalBoxCloseButton",getStaticContentFromInnerContainer:".modalboxContent",setNameOfHiddenAjaxInputField:"ajaxhref",setNameOfPreCacheContainer:"#modalboxPreCacheContainer",setNameOfGalleryImage:"modalgallery",setModalboxLayoutContainer_Begin:'<div class="modalboxStyleContainerTopLeft"><div class="modalboxStyleContainerTopRight"><div class="modalboxStyleContainerContent">',setModalboxLayoutContainer_End:'</div></div></div><div class="modalboxStyleContainerBottomLeft"><div class="modalboxStyleContainerBottomRight"></div></div>',setModalboxLayoutContainer_Begin_ObsoleteBrowsers:'<div class="modalboxStyleContainerTopRight"><div class="modalboxStyleContainerContent">',setModalboxLayoutContainer_End_ObsoleteBrowsers:'</div></div><div class="modalboxStyleContainerBottomRight"></div><div class="modalboxStyleContainerTopLeft"></div><div class="modalboxStyleContainerBottomLeft"></div>',setWidthOfModalLayer:null,customClassName:null,positionLeft:null,positionTop:null,fadeInActive:true,fadeInSpeed:"fast",fadeOutActive:true,fadeOutSpeed:"fast",localizedStrings:{messageCloseWindow:"Close Window",messageAjaxLoader:"Please wait",errorMessageIfNoDataAvailable:"<strong>No content available!</strong>",errorMessageXMLHttpRequest:'Error: XML-Http-Request Status "500"',errorMessageTextStatusError:"Error: AJAX Request failed"},getStaticContentFrom:null,killModalboxWithCloseButtonOnly:false,setTypeOfFadingLayer:"black",setStylesOfFadingLayer:{white:"background-color:#fff; filter:alpha(opacity=60); -moz-opacity:0.6; opacity:0.6;",black:"background-color:#000; filter:alpha(opacity=40); -moz-opacity:0.4; opacity:0.4;",transparent:"background-color:transparent;",custom:null},minimalTopSpacingOfModalbox:50,usejqueryuidragable:false,callFunctionAfterSuccess:function(){},directCall:{source:null,data:null,element:null}};jQuery.fn.modalBox=function(k){var k=jQuery.extend({},c,k);k.localizedStrings=jQuery.fn.modalBox.getlocales();if(k.directCall){if(k.directCall["source"]){m({type:"ajax",source:k.directCall["source"],data:""});}else{if(k.directCall["data"]){m({type:"static",source:"",data:k.directCall["data"]});}else{if(k.directCall["element"]){m({type:"static",source:"",data:jQuery(k.directCall["element"]).html()});}}}}var i=false;jQuery(window).resize(function(){j();i=true;});if(!i){jQuery(this).die("click").live("click",function(o){d({event:o,element:jQuery(this)});});jQuery(".closeModalBox",k.setModalboxContainer).die("click").live("click",function(){jQuery.fn.modalBox.close();});}function d(q){var q=jQuery.extend({event:null,element:null},q||{});if(q.event&&q.element){var p=q.event;var u=q.element;var r=false;var w=false;if(u.is("input")){var o=u.parents("form").attr("action");var s=u.parents("form").serialize();var t="ajax";w=true;p.preventDefault();}else{if(jQuery("input[name$='"+k.setNameOfHiddenAjaxInputField+"']",u).size()!=0){var o=jQuery("input[name$='"+k.setNameOfHiddenAjaxInputField+"']",u).val();var s="";var t="ajax";p.preventDefault();}else{if(jQuery(k.getStaticContentFromInnerContainer,u).size()!=0){if(jQuery(k.getStaticContentFromInnerContainer+" img."+k.setNameOfGalleryImage,u).size()!=0){var v=jQuery(k.getStaticContentFromInnerContainer+" img."+k.setNameOfGalleryImage,u);}var o="";var s=jQuery(k.getStaticContentFromInnerContainer,u).html();var t="static";p.preventDefault();}else{if(k.getStaticContentFrom){var o="";var s=jQuery(k.getStaticContentFrom).html();var t="static";p.preventDefault();}else{r=true;}}}}if(!r){m({type:t,element:u,source:o,data:s,loadImagePreparer:{currentImageObj:v,finalizeModalBox:false}});}if(w){return false;}}}function e(p){var p=jQuery.extend({targetElement:"a.modalBoxTopLink",typeOfAnimation:"swing",animationSpeed:800,callAfterSuccess:function(){}},p||{});if(p.targetElement){if(jQuery.browser.webkit){var o=jQuery("body");}else{var o=jQuery("html");}o.animate({scrollTop:jQuery(p.targetElement).offset().top},p.animationSpeed,p.typeOfAnimation,function(){p.callAfterSuccess();});}}function f(p){var p=jQuery.extend({ar_XMLHttpRequest:null,ar_textStatus:null,ar_errorThrown:null,targetContainer:null,ar_enableDebugging:false},p||{});var q=p.ar_XMLHttpRequest;var t=p.ar_textStatus;var r=p.ar_errorThrown;if(q&&t!="error"){if(q.status==403){var s=q.getResponseHeader("Location");if(typeof s!=="undefined"){location.href=s;}}else{if(q.status==500&&p.targetContainer){o({errorMessage:k.localizedStrings["errorMessageXMLHttpRequest"],targetContainer:p.targetContainer});}}if(p.ar_enableDebugging){console.log("XMLHttpRequest.status: "+q.status);}g();}else{if(t=="error"){if(p.targetContainer){o({errorMessage:k.localizedStrings["errorMessageTextStatusError"],targetContainer:p.targetContainer});}if(p.ar_enableDebugging){console.log("textStatus: "+t);}g();}else{}}function o(u){var u=jQuery.extend({errorMessage:null,targetContainer:null},u||{});if(u.errorMessage&&u.targetContainer){var v="";v+='<div class="simleModalboxErrorBox"><div class="simleModalboxErrorBoxContent">';v+=u.errorMessage;v+="</div></div>";jQuery(u.targetContainer).removeAttr("style").html(v);if(jQuery(u.targetContainer).parents(k.setModalboxContainer).size()>0){jQuery(k.setAjaxLoader).remove();j();}}}}function h(o){var o=jQuery.extend({currentURL:"",addParameterName:"ajaxContent",addParameterValue:"true"},o||{});var q=o.currentURL;if(q.indexOf(o.addParameterName)!=-1){q=q;}else{if(q.indexOf("?")!=-1){var p="&";}else{var p="?";}q=q+p+o.addParameterName+"="+o.addParameterValue;}return q;}function l(p){var p=jQuery.extend({type:p.type,element:p.element,source:p.source,data:p.data,loadImagePreparer:{currentImageObj:p.loadImagePreparer["currentImageObj"],finalizeModalBox:p.loadImagePreparer["finalizeModalBox"]},nameOfImagePreloaderContainer:"imagePreparerLoader",wrapContainer:'<div class="modalBoxCarouselItemContainer"></div>'},p||{});var r=p.loadImagePreparer["currentImageObj"];if(r){jQuery(k.getStaticContentFromInnerContainer).css({display:"block",position:"absolute",left:"-9999px",top:"-9999px"});var o=0;var q=0;if(r.size()==1){o=parseInt(r.width());q=parseInt(r.height());}else{r.each(function(){var u=jQuery(this);var t=parseInt(u.width());var s=parseInt(u.height());if(t>o){o=t;}if(s>q){q=s;}});}jQuery(k.getStaticContentFromInnerContainer).removeAttr("style");m({type:p.type,element:p.element,source:p.source,data:p.data,loadImagePreparer:{currentImageObj:r,widthOfImage:o,heightOfImage:q,finalizeModalBox:true,nameOfImagePreloaderContainer:p.nameOfImagePreloaderContainer}});}}function g(){}function m(p){var p=jQuery.extend({type:null,element:null,source:null,data:null,loadImagePreparer:{currentImageObj:null,widthOfImage:null,heightOfImage:null,finalizeModalBox:false,nameOfImagePreloaderContainer:null},eMessageNoData:k.localizedStrings["errorMessageIfNoDataAvailable"]},p||{});jQuery(k.setNameOfPreCacheContainer).remove();if(!p.data&&p.eMessageNoData){p.data=p.eMessageNoData;}if(p.loadImagePreparer["currentImageObj"]&&!p.loadImagePreparer["finalizeModalBox"]){l({type:p.type,element:p.element,source:p.source,data:p.data,loadImagePreparer:p.loadImagePreparer});}else{if(p.type){if(p.source){p.source=h({currentURL:p.source});}var s="";var o="";if(p.element){if(jQuery(p.element).hasClass("large")){o+="large";}else{if(jQuery(p.element).hasClass("medium")){o+="medium";}else{if(jQuery(p.element).hasClass("small")){o+="small";}else{if(p.loadImagePreparer["nameOfImagePreloaderContainer"]){o+="auto";s+="width:"+Math.abs(p.loadImagePreparer["widthOfImage"]+40)+"px; ";s+="height:"+Math.abs(p.loadImagePreparer["heightOfImage"]+40)+"px; ";}}}}if(jQuery(p.element).hasClass("emphasis")){o+=" emphasis";}}if(k.customClassName){o+=" "+k.customClassName;}if(k.setWidthOfModalLayer){s+="width:"+parseInt(k.setWidthOfModalLayer)+"px; ";}if(jQuery(k.setModalboxContainer).size()==0){n();var q=a({customStyles:'class="'+o+'" style="'+s+'"'});jQuery("body").append(q);}else{var r=jQuery.fn.modalBox.cleanupSelectorName({replaceValue:k.setAjaxLoader});jQuery.fn.modalBox.clean({setModalboxContentContainer:k.setModalboxBodyContentContainer,setAjaxLoader:r,localizedStrings:k.localizedStrings["messageAjaxLoader"]});}switch(p.type){case"static":jQuery(k.setAjaxLoader).hide();jQuery(k.setModalboxBodyContentContainer,k.setModalboxContainer).html(p.data);if(k.obsoleteBrowsers){j();}k.callFunctionAfterSuccess();break;case"ajax":jQuery.ajax({type:"POST",url:p.source,data:p.data,success:function(t,u){jQuery(k.setAjaxLoader).hide();jQuery(k.setModalboxBodyContentContainer,k.setModalboxContainer).append(t);j();k.callFunctionAfterSuccess();},error:function(t,v,u){f({ar_XMLHttpRequest:t,ar_textStatus:v,ar_errorThrown:u,targetContainer:k.setModalboxContainer+" "+k.setModalboxBodyContentContainer});}});break;}if(!k.obsoleteBrowsers){j();}}}}function j(){if(jQuery(k.setNameOfPreCacheContainer).size()==0){var p=jQuery(k.setModalboxContainer);if(p.size()!=0){if(jQuery("body a.modalBoxTopLink").size()==0){jQuery("body").prepend('<a class="modalBoxTopLink"></a>');}var r=false;var t="absolute";var s=0;var q=parseInt(jQuery(window).width()-p.width())/2;if(q<=0){q=0;}if(k.positionLeft){q=k.positionLeft+"px";}else{q=q+"px";}if(k.positionTop){s=parseInt(jQuery(window).height()-p.height());if(s>parseInt(k.positionTop)){t="fixed";}s=k.positionTop+"px";}else{s=parseInt(jQuery(window).height()-p.height()-70)/2;if(s<=0){s=k.minimalTopSpacingOfModalbox+"px";r=true;}else{s=s+"px";t="fixed";}}if(k.obsoleteBrowsers){p.css({position:"absolute",left:q,top:s,display:"block",visibility:"visible"});}else{if(k.fadeInActive){if(p.hasClass("modalboxFadingSuccessfully")){p.css({position:t,left:q,top:s,display:"block",visibility:"visible"});}else{p.css({position:t,left:q,top:s,visibility:"visible"}).fadeIn(k.fadeInSpeed,function(){jQuery(this).addClass("modalboxFadingSuccessfully");});}}else{p.css({position:t,left:q,top:s,display:"block",visibility:"visible"});}}if(k.usejqueryuidragable){p.draggable("destroy").draggable({opacity:false,iframeFix:true,refreshPositions:true});}if(r&&!p.hasClass("modalboxScrollingSuccessfully")){p.addClass("modalboxScrollingSuccessfully");e();}n();}if(k.obsoleteBrowsers){var o=jQuery("div.modalboxStyleContainerTopRight",k.setModalboxContainer).height();jQuery("div.modalboxStyleContainerTopLeft",k.setModalboxContainer).height(o);}}}function n(){if(k.setTypeOfFadingLayer=="white"){var o=k.setStylesOfFadingLayer["white"];}else{if(k.setTypeOfFadingLayer=="black"){var o=k.setStylesOfFadingLayer["black"];}else{if(k.setTypeOfFadingLayer=="custom"&&k.setStylesOfFadingLayer["custom"]){var o=k.setStylesOfFadingLayer["custom"];}else{var o=k.setStylesOfFadingLayer["transparent"];}}}var p=jQuery(k.setFaderLayer);if(p.size()==0){var q=jQuery.fn.modalBox.cleanupSelectorName({replaceValue:k.setFaderLayer});jQuery("body").append('<div id="'+q+'" style="'+o+'"></div><iframe class="modalBoxIe6layerfix"></iframe>');if(k.obsoleteBrowsers){jQuery(".modalBoxIe6layerfix").css({width:Math.abs(jQuery("body").width()-1)+"px",height:Math.abs(jQuery("body").height()-1)+"px"});}if(!k.killModalboxWithCloseButtonOnly){jQuery(k.setFaderLayer).click(function(){jQuery.fn.modalBox.close();});}jQuery(window).resize(function(){if(jQuery(k.setFaderLayer).is(":visible")){n();}});}else{if(p.size()!=0&&!p.is(":visible")){if(k.fadeInActive){p.fadeIn(k.fadeInSpeed);}else{p.show();}}}}};function a(g){var g=jQuery.extend({customStyles:""},g||{});g=jQuery.extend({},c,g);g.localizedStrings=jQuery.fn.modalBox.getlocales();var f=jQuery.fn.modalBox.cleanupSelectorName({replaceValue:g.setModalboxContainer});var e=jQuery.fn.modalBox.cleanupSelectorName({replaceValue:g.setModalboxBodyContainer});var j=jQuery.fn.modalBox.cleanupSelectorName({replaceValue:g.setModalboxBodyContentContainer});var d=jQuery.fn.modalBox.cleanupSelectorName({replaceValue:g.setModalboxCloseButtonContainer});var i=jQuery.fn.modalBox.cleanupSelectorName({replaceValue:g.setAjaxLoader});var h="";h+='<div id="'+f+'"'+g.customStyles+">";h+='<div id="'+e+'">';if(g.obsoleteBrowsers){h+=g.setModalboxLayoutContainer_Begin_ObsoleteBrowsers;}else{h+=g.setModalboxLayoutContainer_Begin;}h+='<div class="'+j+'">';h+='<div id="'+i+'">'+g.localizedStrings["messageAjaxLoader"]+"</div>";h+="</div>";if(g.obsoleteBrowsers){h+=g.setModalboxLayoutContainer_End_ObsoleteBrowsers;}else{h+=g.setModalboxLayoutContainer_End;}h+='<div id="'+d+'"><a href="javascript:void(0);" class="closeModalBox"><span class="closeModalBox">'+g.localizedStrings["messageCloseWindow"]+"</span></a></div>";h+="</div>";h+="</div>";return h;}jQuery.fn.modalBox.close=function(d){var d=jQuery.extend({},c,d);if(d.setFaderLayer&&d.setModalboxContainer){var e=jQuery(d.setFaderLayer+", "+d.setModalboxContainer);if(d.fadeOutActive){e.fadeOut(d.fadeOutSpeed,function(){jQuery(this).remove();});}else{e.remove();}jQuery("iframe.modalBoxIe6layerfix").remove();}};jQuery.fn.modalBox.clean=function(d){var d=jQuery.extend({setModalboxContentContainer:null,setAjaxLoader:null,localizedStrings:null},d||{});if(d.setModalboxContentContainer){jQuery(d.setModalboxContentContainer).html('<div id="'+d.setAjaxLoader+'">'+d.localizedStrings+"</div>");}};jQuery.fn.modalBox.cleanupSelectorName=function(d){var d=jQuery.extend({replaceValue:""},d||{});var e=d.replaceValue;e=e.replace(/[#]/g,"");e=e.replace(/[.]/g,"");return e;};jQuery.fn.modalBox.getlocales=function(d){var d=jQuery.extend({},c,d);if(typeof(modalboxLocalizedStrings)!=="undefined"){if(modalboxLocalizedStrings!==""){d.localizedStrings={messageCloseWindow:modalboxLocalizedStrings["messageCloseWindow"],messageAjaxLoader:modalboxLocalizedStrings["messageAjaxLoader"],errorMessageIfNoDataAvailable:modalboxLocalizedStrings["errorMessageIfNoDataAvailable"],errorMessageXMLHttpRequest:modalboxLocalizedStrings["errorMessageXMLHttpRequest"],errorMessageTextStatusError:modalboxLocalizedStrings["errorMessageTextStatusError"]};}}return d.localizedStrings;};jQuery.fn.modalBox.precache=function(d){var d=jQuery.extend({},c,d);if(d.setNameOfPreCacheContainer){if(jQuery(d.setNameOfPreCacheContainer).size()==0){var g=jQuery.fn.modalBox.cleanupSelectorName({replaceValue:d.setNameOfPreCacheContainer});var f=a();var e="";e+='<div id="'+g+'" style="position:absolute; left:-9999px; top:-9999px;">';e+=f;e+="</div>";jQuery("body").append(e);jQuery(d.setModalboxContainer).show();}}};jQuery(document).ready(function(){jQuery(".openmodalbox").modalBox();jQuery.fn.modalBox.precache();});})(jQuery);